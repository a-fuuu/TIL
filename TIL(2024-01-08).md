# 빅데이터를 지탱하는 기술

## 빅데이터 기술의 요구
- 인터넷의 보급으로 세계 곳곳으로부터 액세스 되는 시스템이 증가
- 그에 따라 전통적인 RDB로 취급할 수 없을 정도로 큰 데이터가 쌓여 그러한 데이터를 처리할 수 있는 기존과 다른 구조가 필요

### Hadoop, NoSQL의 등장

> Hadoop - 다수의 컴퓨터에서 대량의 데이터 처리 전세계 웹 페이지를 모아 검색 엔진을 만드려면 방대한 데이터를 저장해둘 스토리지와 데이터를 순차적으로 처리할 수 있는 구조가 필요한데 그러기 위해서는 수백 대, 수천 대 단위의 컴퓨터가 필요한데 하둡이 그것을 가능케 해줌

- Hadoop은 MapReduce를 참고하여 제작됨
- 초기 Hadoop에서는 Java로 MapReduce를 동작시켰으나 SQL과 같은 쿼리 언어를 Hadoop에서 실행하기 위해 Hive의 도입으로 프로그래밍 없이 데이터를 집계할 수 있게 됨

> NoSQL - 기존 RDB의 제약을 제거하는 것을 목표로 한다. RDB보다 고속의 읽기, 쓰기가 가능하고 분산 처리에 뛰어나다. NoSQL은 애플리케이션에서 온라인으로 접속하는 데이터베이스이다.

- NoSQL의 종류로는 키-밸류 스토어, 도큐먼트 스토어, 와이드 칼럼 스토어가 있다. 
- Key-Value store
    - 다수의 키와 값을 관련지어 저장 `Redis`
- document store
    - JSON과 같은 복잡한 데이터 구조를 저장 `MongoDB`
- wide column store
    - 여러 키를 사용하여 높은 확장성을 제공 `Cassandra`

> BI도구 - 데이터 웨어하우스에 저장된 데이터를 시각화하는 시스템

### 빅데이터 시대의 데이터 분석 기반

> 데이터 파이프라인 - 데이터 수집 ~ 워크플로우 관리까지 총괄하는 시스템

1. 데이터 수집 (배치, 스트리밍)
    - 어딘가에 이미 존재하는 데이터 추출 - 배치
    - 차례차례 생성되는 데이터를 실시간으로 보냄 - 스트리밍
2. 분산 스토리지
    - 수집된 데이터는 분산 스토리지에 저장 대표적인 것은 객체 스토리지
    - NoSQL 데이터베이스를 분산 스토리지로도 사용 가능
3. 분산 데이터 처리
    - 분산 스토리지에 저장된 데이터를 처리하는 프레임워크 (ex. MapReduce)
    - 쿼리엔진 (Hive)
    - ETL 프로세스 : 분산 스토리지에서 추출(E)한 데이터를 데이터 웨어하우스에 적합한 형식으로 변환(T)하여 적재(L)
4. 워크플로우 관리
    - 전체 데이터 파이프라인의 동작을 관리
    - 데이터 파이프라인이 복잡해짐에 따라, 한 곳에서 제어하지 않으면 전체의 움직임을 파악하는 것이 곤란하다. 시스템 장애를 대비해 오류 발생시 처리와 다시 처리하기 위한 기능이 필요함

### 데이터 레이크, 웨어하우스, 마트

1. 데이터 레이크
    - 텍스트 파일, 바이너리 데이터 등은 있는 그대로 데이터 웨어하우스에 넣을 수 없음
    - 모든 데이터를 **원래의 형태로** 축적해두는 장소가 데이터 레이크
    - 임의의 데이터를 저장할 수 있는 분산 스토리지가 데이터 레이크로 이용
    - CSV JSON과 같은 범용적인 텍스트 형식 활용
    - 데이터 레이크는 단순 스토리지라 데이터를 가공할 수 없음 (MapReduce와 같은 데이터 처리 기술 필요)

2. 데이터 웨어하우스
    - 데이터 웨어하우스는 일반적인 RDB와 달리 대량의 데이터를 장기보존하는 것에 최적화
    - 정리된 데이터를 한번에 전송하는 것은 효율적이나 데이터를 자주 읽고 쓰는 데는 부적합
    - 업무 시스템을 위한 RDB 또는 로그 등을 저장하는 파일 서버는 **데이터 소스**, 거기에 보존 된 데이터를 **로우 데이터(Raw data)**
    - 로우 데이터를 가공하여 웨어하우스에 적재하는 흐름을 **ETL 프로세스**
    
3. 데이터 마트
    - 데이터 웨어하우스는 업무에 있어서 중요한 데이터 처리에 사용되기에 아무때나 함부로 과부하를 초래하는 것은 곤란
    - 따라서 데이터 분석같은 목적에 사용하는 경우 데이터 웨어하우스에서 필요한 데이터만을 추출하여 **데이터 마트**에 적재 ( BI도구와 조합하여 시각화 하는데도 이용하기 위해선 시각화에 적합한 형태로 테이블을 준비해야 함 )

